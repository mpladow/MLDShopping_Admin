
@{
    @model List<MLDShopping_Admin.Models.AccountVM>;
    ViewData["Title"] = "Accounts";
}



<section class="content container-fluid">
    <div class="row mt-3">
        <div class="col-12">
            <div class="row">
                <div class="card w-100">
                    <div class="card-body p-4">
                        <div class="row mt-3">
                            <button class="btn btn-primary btn-sm" onclick="window.location.href = '@Url.Action("Edit", "Products", new { Areas = "Products" })';">Add New Product</button>
                        </div>
                        <div class="row mt-3">
                            <table class="table table-light table-bordered table-hover table-sm" id="tblProducts">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Product Id</th>
                                        <th>Product Code</th>
                                        <th>Name</th>
                                        <th>Category</th>
                                        <th>SubCategory</th>
                                        <th>Deleted</th>
                                        <th>Active</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>

@section scripts {
    <!-- DataTables -->
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.5/js/jquery.dataTables.js"></script>

    <script language="javascript">
        $(document).ready(function () {
            var table = $("#tblProducts").DataTable({
                paging: true,
                responsive: true,
                serverSide: true,
                autoWidth: true,
                ajax: {
                    url: "@Url.Action("Read", "Account", new { area = "Products" })",
                    type: "POST",
                    contentType: "application/json",
                    data: function (d) {
                        return JSON.stringify(d);
                    },
                    dataSrc: function (json) {
                        console.log(json);
                        if (json.data)
                            return json.data;
                        else
                            return [];
                    }
                },
                columns: [
                    { data: "ProductId", "autoWidth": true },
                    { data: "ProductCode", "autoWidth": true },
                    { data: "Name", "autoWidth": true },
                    { data: "Category", "autoWidth": true },
                    { data: "SubCategory", "autoWidth": true },
                    { data: "Deleted", "autoWidth": true },
                    { data: "Active", "autoWidth": true },
                    {
                        data: "ProductId",
                        render: function (data, type, account) {
                            return '<a href="/products/product/edit/' + data + '">Edit</a>';
                        },
                        "autoWidth": true
                    }

                ],
                "language": {
                    "search": "",
                    "searchPlaceholder": "Search..."
                },
            });
        })
    </script>


}